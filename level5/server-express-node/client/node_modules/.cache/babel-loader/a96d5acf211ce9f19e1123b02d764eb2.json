{"ast":null,"code":"var _jsxFileName = \"C:\\\\development\\\\level5\\\\server-express-node\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Movie from \"./components/Movie.js\";\nimport AddMovieForm from \"./components/AddMovieFrom.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nexport default function App() {\n  _s();\n\n  const [movies, setMovies] = useState([]);\n\n  function getMovies() {\n    axios.get(\"/movies\").then(res => setMovies(res.data)).catch(err => console.log(err.response.data.errMsg));\n  }\n\n  function addMovie(newMovie) {\n    axios.post(\"/movies\", newMovie).then(res => {\n      setMovies(prevMovies => [...prevMovies, res.data]);\n    }).catch(err => console.log(err));\n  }\n\n  function deleteMovie(movieId) {\n    axios.delete(`/movies/${movieId}`).then(res => {\n      setMovies(prevMovies => prevMovies.filter(movie => movie._id !== movieId));\n    }).catch(err => console.log(err));\n  }\n\n  function editMovie(updates, movieId) {\n    axios.put(`/movies/${movieId}`, updates).then(res => {\n      setMovies(prevMovies => prevMovies.map(movie => movie._id !== movieId ? movie : res.data));\n    }).catch(err => console.log(err));\n  }\n\n  function handleFilter(e) {\n    if (e.target.value === \"reset\") {\n      getMovies();\n    } else {\n      axios.get(`/movies/search/genre?genre=${e.target.value}`).then(res => setMovies(res.data)).catch(err => console.log(err));\n    }\n  }\n\n  useEffect(() => {\n    getMovies();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-container\",\n      children: [/*#__PURE__*/_jsxDEV(AddMovieForm, {\n        submit: addMovie,\n        btnText: \"Add Movie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Filter by Genre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleFilter,\n        className: \"filter-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"reset\",\n          children: \"All Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"action\",\n          children: \"Action\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"fantasy\",\n          children: \"Fantasy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"horror\",\n          children: \"Horror\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), movies.map(movie => /*#__PURE__*/_createElement(Movie, { ...movie,\n        key: movie.title,\n        deleteMovie: deleteMovie,\n        editMovie: editMovie,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"MO6b3PSP3RIUqZ8gtSrBZBVtBbs=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/development/level5/server-express-node/client/src/App.js"],"names":["React","useState","useEffect","axios","Movie","AddMovieForm","App","movies","setMovies","getMovies","get","then","res","data","catch","err","console","log","response","errMsg","addMovie","newMovie","post","prevMovies","deleteMovie","movieId","delete","filter","movie","_id","editMovie","updates","put","map","handleFilter","e","target","value","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport axios from 'axios'\r\nimport Movie from \"./components/Movie.js\"\r\nimport AddMovieForm from \"./components/AddMovieFrom.js\"\r\n\r\nexport default function App(){\r\n    const[movies, setMovies] = useState([])\r\n\r\n    function getMovies(){\r\n        axios.get(\"/movies\")\r\n            .then(res => setMovies(res.data))\r\n            .catch(err => console.log(err.response.data.errMsg))\r\n    }\r\n\r\n    function addMovie(newMovie){\r\n        axios.post(\"/movies\", newMovie)\r\n            .then(res => {\r\n                setMovies(prevMovies => [...prevMovies, res.data])\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    function deleteMovie(movieId){\r\n        axios.delete(`/movies/${movieId}`)\r\n            .then(res => {\r\n                setMovies(prevMovies => prevMovies.filter(movie => movie._id !== movieId))\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    function editMovie(updates, movieId){\r\n        axios.put(`/movies/${movieId}`, updates)\r\n            .then(res => {\r\n                setMovies(prevMovies => prevMovies.map(movie => movie._id !== movieId ? movie : res.data))\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    function handleFilter(e){\r\n        if(e.target.value === \"reset\"){\r\n            getMovies()\r\n        }else{\r\n            axios.get(`/movies/search/genre?genre=${e.target.value}`)\r\n            .then(res => setMovies(res.data))\r\n            .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getMovies()\r\n    }, [] )\r\n\r\n    return(\r\n        <div>\r\n            <div className=\"movie-container\">\r\n                <AddMovieForm submit={addMovie}\r\n                btnText=\"Add Movie\" />\r\n                <h4>Filter by Genre</h4>\r\n                <select onChange={handleFilter} className=\"filter-form\">\r\n                    <option value=\"reset\">All Movies</option>\r\n                    <option value=\"action\">Action</option>\r\n                    <option value=\"fantasy\">Fantasy</option>\r\n                    <option value=\"horror\">Horror</option>\r\n                </select>\r\n                { \r\n                    movies.map(movie => \r\n                    <Movie \r\n                    {...movie} \r\n                    key={movie.title}\r\n                    deleteMovie={deleteMovie}\r\n                    editMovie={editMovie}/>) \r\n                } \r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}